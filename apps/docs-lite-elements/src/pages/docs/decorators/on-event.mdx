import { CodeBlock } from '@/components/code-block/code-block.kita';
import { DocsLayout } from '@/layouts/docs-layout';

export const layout = DocsLayout;

export const getMetadata = () => ({
  title: 'Docs | @onEvent',
  description: 'The place to learn about Eco Pages',
})

# @onEvent
---

A decorator to subscribe to an event on the target element.
The event listener will be automatically unsubscribed when the element is disconnected.

**Note**: This decorator uses event delegation, which means it relies on event bubbling.
Therefore, it will not work with events that do not bubble, such as `focus`, `blur`, `load`, `unload`, `scroll`, etc.
For focus and blur events, consider using `focusin` and `focusout` which are similar but do bubble.

It accepts an object with one of the following properties:

- `selector`: A CSS selector to match the target element.
- `ref`: A reference to the target element.

And the following properties:

- `type`: The event type to listen for.
- `options` (optional): `AddEventListenerOptions` An options object that specifies characteristics about the event listener.

<CodeBlock lang='typescript'>{`@onEvent({ selector: "button", type: "click" }) doSomething() {...} `}</CodeBlock>

<CodeBlock lang='typescript'>{`@onEvent({ ref: "my-ref", type: "click" }) doSomething() {...} `}</CodeBlock>